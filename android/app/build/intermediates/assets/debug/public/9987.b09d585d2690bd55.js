"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9987],{9987:(zn,be,x)=>{x.r(be),x.d(be,{AddCarPageModule:()=>qn});var Qe=x(177),B=x(4341),h=x(5150),Y=x(70),D=x(467),re=x(7231),w=x(3273),L=x(8742),j=x(1076),et=x(1362);const Te="firebasestorage.googleapis.com",Ce="storageBucket";class _ extends j.g{constructor(t,n,o=0){super(oe(t),`Firebase Storage: ${n} (${oe(t)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return oe(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var p=function(e){return e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment",e}(p||{});function oe(e){return"storage/"+e}function ie(){return new _(p.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Re(){return new _(p.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ve(){return new _(p.CANCELED,"User canceled the upload/download.")}function ye(){return new _(p.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function se(e){return new _(p.INVALID_ARGUMENT,e)}function xe(){return new _(p.APP_DELETED,"The Firebase app was deleted.")}function q(e,t){return new _(p.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function z(e){throw new _(p.INTERNAL_ERROR,"Internal error: "+e)}class v{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let o;try{o=v.makeFromUrl(t,n)}catch{return new v(t,"")}if(""===o.path)return o;throw function ut(e){return new _(p.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}(t)}static makeFromUrl(t,n){let o=null;const i="([A-Za-z0-9.\\-_]+)",l=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(C){C.path_=decodeURIComponent(C.path)}const f=n.replace(/[.]/g,"\\."),R=[{regex:l,indices:{bucket:1,path:3},postModify:function s(C){"/"===C.path.charAt(C.path.length-1)&&(C.path_=C.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${f}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${n===Te?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<R.length;C++){const G=R[C],X=G.regex.exec(t);if(X){let J=X[G.indices.path];J||(J=""),o=new v(X[G.indices.bucket],J),G.postModify(o);break}}if(null==o)throw function ct(e){return new _(p.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return o}}class gt{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Z(e){return"string"==typeof e||e instanceof String}function ke(e){return ae()&&e instanceof Blob}function ae(){return typeof Blob<"u"}function le(e,t,n,o){if(o<t)throw se(`Invalid value for '${e}'. Expected ${t} or greater.`);if(o>n)throw se(`Invalid value for '${e}'. Expected ${n} or less.`)}function M(e,t,n){let o=t;return null==n&&(o=`https://${t}`),`${n}://${o}/v0${e}`}function we(e){const t=encodeURIComponent;let n="?";for(const o in e)e.hasOwnProperty(o)&&(n=n+(t(o)+"=")+t(e[o])+"&");return n=n.slice(0,-1),n}var V=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}(V||{});function Ee(e,t){const n=e>=500&&e<600,i=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return n||i||s}class vt{constructor(t,n,o,i,s,a,l,c,u,d,f,m=!0){this.url_=t,this.method_=n,this.headers_=o,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,T)=>{this.resolve_=b,this.reject_=T,this.start_()})}start_(){const n=(o,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());!function Tt(e){return void 0!==e}(c)?s():s(c)}catch(c){a(c)}else if(null!==l){const c=ie();c.serverResponse=l.getErrorText(),a(this.errorCallback_?this.errorCallback_(l,c):c)}else a(i.canceled?this.appDelete_?xe():ve():Re())};this.canceled_?n(0,new Q(!1,null,!0)):this.backoffId_=function mt(e,t,n){let o=1,i=null,s=null,a=!1,l=0;function c(){return 2===l}let u=!1;function d(...g){u||(u=!0,t.apply(null,g))}function f(g){i=setTimeout(()=>{i=null,e(b,c())},g)}function m(){s&&clearTimeout(s)}function b(g,...O){if(u)return void m();if(g)return m(),void d.call(null,g,...O);if(c()||a)return m(),void d.call(null,g,...O);let R;o<64&&(o*=2),1===l?(l=2,R=0):R=1e3*(o+Math.random()),f(R)}let T=!1;function E(g){T||(T=!0,m(),!u&&(null!==i?(g||(l=2),clearTimeout(i),f(0)):g||(l=1)))}return f(0),s=setTimeout(()=>{a=!0,E(!0)},n),E}((o,i)=>{if(i)return void o(!1,new Q(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{null!==this.progressCallback_&&this.progressCallback_(l.loaded,l.lengthComputable?l.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===V.NO_ERROR,c=s.getStatus();if(!l||Ee(c,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===V.ABORT;return void o(!1,new Q(!1,null,d))}const u=-1!==this.successCodes_.indexOf(c);o(!0,new Q(u,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function bt(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Q{constructor(t,n,o){this.wasSuccessCode=t,this.connection=n,this.canceled=!!o}}function At(...e){const t=function Pt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const n=new t;for(let o=0;o<e.length;o++)n.append(e[o]);return n.getBlob()}if(ae())return new Blob(e);throw new _(p.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const P={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ce{constructor(t,n){this.data=t,this.contentType=n||null}}function Ae(e){const t=[];for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);o<=127?t.push(o):o<=2047?t.push(192|o>>6,128|63&o):55296==(64512&o)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(o=65536|(1023&o)<<10|1023&e.charCodeAt(++n),t.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o)):t.push(239,191,189):56320==(64512&o)?t.push(239,191,189):t.push(224|o>>12,128|o>>6&63,128|63&o)}return new Uint8Array(t)}function Ie(e,t){switch(e){case P.BASE64:{const i=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(i||s)throw q(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case P.BASE64URL:{const i=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(i||s)throw q(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function St(e){if(typeof atob>"u")throw function _t(e){return new _(p.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(e)}(t)}catch(i){throw i.message.includes("polyfill")?i:q(e,"Invalid character found")}const o=new Uint8Array(n.length);for(let i=0;i<n.length;i++)o[i]=n.charCodeAt(i);return o}class Se{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(null===n)throw q(P.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=n[1]||null;null!=o&&(this.base64=function Nt(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=t.substring(t.indexOf(",")+1)}}class U{constructor(t,n){let o=0,i="";ke(t)?(this.data_=t,o=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),o=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),o=t.length),this.size_=o,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(ke(this.data_)){const i=function It(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===i?null:new U(i)}{const o=new Uint8Array(this.data_.buffer,t,n-t);return new U(o,!0)}}static getBlob(...t){if(ae()){const n=t.map(o=>o instanceof U?o.data_:o);return new U(At.apply(null,n))}{const n=t.map(a=>Z(a)?function Pe(e,t){switch(e){case P.RAW:return new ce(Ae(t));case P.BASE64:case P.BASE64URL:return new ce(Ie(e,t));case P.DATA_URL:return new ce(function Ut(e){const t=new Se(e);return t.base64?Ie(P.BASE64,t.rest):function Mt(e){let t;try{t=decodeURIComponent(e)}catch{throw q(P.DATA_URL,"Malformed data URL.")}return Ae(t)}(t.rest)}(t),function Ot(e){return new Se(e).contentType}(t))}throw ie()}(P.RAW,a).data:a.data_);let o=0;n.forEach(a=>{o+=a.byteLength});const i=new Uint8Array(o);let s=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[s++]=a[l]}),new U(i,!0)}}uploadData(){return this.data_}}function ue(e){let t;try{t=JSON.parse(e)}catch{return null}return function Rt(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function Me(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Ft(e,t){return t}class y{constructor(t,n,o,i){this.server=t,this.local=n||t,this.writable=!!o,this.xform=i||Ft}}let ee=null;function W(){if(ee)return ee;const e=[];e.push(new y("bucket")),e.push(new y("generation")),e.push(new y("metageneration")),e.push(new y("name","fullPath",!0));const n=new y("name");n.xform=function t(s,a){return function Bt(e){return!Z(e)||e.length<2?e:Me(e)}(a)},e.push(n);const i=new y("size");return i.xform=function o(s,a){return void 0!==a?Number(a):a},e.push(i),e.push(new y("timeCreated")),e.push(new y("updated")),e.push(new y("md5Hash",null,!0)),e.push(new y("cacheControl",null,!0)),e.push(new y("contentDisposition",null,!0)),e.push(new y("contentEncoding",null,!0)),e.push(new y("contentLanguage",null,!0)),e.push(new y("contentType",null,!0)),e.push(new y("metadata","customMetadata",!0)),ee=e,ee}function Ue(e,t,n){const o=ue(t);return null===o?null:function Vt(e,t,n){const o={type:"file"},i=n.length;for(let s=0;s<i;s++){const a=n[s];o[a.local]=a.xform(o,t[a.server])}return function Lt(e,t){Object.defineProperty(e,"ref",{get:function n(){const s=new v(e.bucket,e.fullPath);return t._makeStorageReference(s)}})}(o,e),o}(e,o,n)}function de(e,t){const n={},o=t.length;for(let i=0;i<o;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class I{constructor(t,n,o,i){this.url=t,this.method=n,this.handler=o,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function S(e){if(!e)throw ie()}function te(e,t){return function n(o,i){const s=Ue(e,i,t);return S(null!==s),s}}function H(e){return function t(n,o){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function at(){return new _(p.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function st(){return new _(p.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function it(e){return new _(p.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(e.bucket):403===n.getStatus()?function lt(e){return new _(p.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}(e.path):o,i.status=n.getStatus(),i.serverResponse=o.serverResponse,i}}function K(e){const t=H(e);return function n(o,i){let s=t(o,i);return 404===o.getStatus()&&(s=function ot(e){return new _(p.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}(e.path)),s.serverResponse=i.serverResponse,s}}function Fe(e,t,n){const o=Object.assign({},n);return o.fullPath=e.path,o.size=t.size(),o.contentType||(o.contentType=function Yt(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),o}class ne{constructor(t,n,o,i){this.current=t,this.total=n,this.finalized=!!o,this.metadata=i||null}}function he(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{S(!1)}return S(!!n&&-1!==(t||["active"]).indexOf(n)),n}function pe(e){switch(e){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class tn{constructor(t,n,o){if(function Ct(e){return"function"==typeof e}(t)||null!=n||null!=o)this.next=t,this.error=null!=n?n:void 0,this.complete=null!=o?o:void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function $(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}let Ve=null;class nn{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=V.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=V.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=V.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,o,i){if(this.sent_)throw z("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==o?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw z("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw z("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw z("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw z("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class rn extends nn{initXhr(){this.xhr_.responseType="text"}}function A(){return Ve?Ve():new rn}class cn{constructor(t,n,o=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=o,this._mappings=W(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(p.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Ee(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=Re()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(p.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return n=>this._updateProgress(t+n)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,o])=>{switch(this._state){case"running":t(n,o);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,n)=>{const o=function Zt(e,t,n,o,i){const s=t.bucketOnlyServerUrl(),a=Fe(t,o,i),l={name:a.fullPath},c=M(s,e.host,e._protocol),d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},f=de(a,n),T=new I(c,"POST",function b(E){let g;he(E);try{g=E.getResponseHeader("X-Goog-Upload-URL")}catch{S(!1)}return S(Z(g)),g},e.maxUploadRetryTime);return T.urlParams=l,T.headers=d,T.body=f,T.errorHandler=H(t),T}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(o,A,t,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((n,o)=>{const i=function Qt(e,t,n,o){const c=new I(n,"POST",function s(u){const d=he(u,["active","final"]);let f=null;try{f=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{S(!1)}f||S(!1);const m=Number(f);return S(!isNaN(m)),new ne(m,o.size(),"final"===d)},e.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=H(t),c}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(i,A,n,o);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,n=new ne(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((i,s)=>{let a;try{a=function en(e,t,n,o,i,s,a,l){const c=new ne(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=o.size()),o.size()!==c.total)throw function ht(){return new _(p.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const u=c.total-c.current;let d=u;i>0&&(d=Math.min(d,i));const f=c.current;let b="";b=0===d?"finalize":u===d?"upload, finalize":"upload";const T={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${c.current}`},E=o.slice(f,f+d);if(null===E)throw ye();const R=new I(n,"POST",function g(C,G){const X=he(C,["active","final"]),ge=c.current+d,J=o.size();let me;return me="final"===X?te(t,s)(C,G):null,new ne(ge,J,"final"===X,me)},t.maxUploadRetryTime);return R.headers=T,R.body=E.uploadData(),R.progressCallback=l||null,R.errorHandler=H(e),R}(this._ref._location,this._ref.storage,o,this._blob,t,this._mappings,n,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const l=this._ref.storage._makeRequest(a,A,i,s,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,n)=>{const o=function De(e,t,n){const i=M(t.fullServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new I(i,"GET",te(e,n),a);return l.errorHandler=K(t),l}(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(o,A,t,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,n)=>{const o=function Be(e,t,n,o,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},c=function l(){let R="";for(let C=0;C<2;C++)R+=Math.random().toString().slice(2);return R}();a["Content-Type"]="multipart/related; boundary="+c;const u=Fe(t,o,i),d=de(u,n),b=U.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+d+"\r\n--"+c+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",o,"\r\n--"+c+"--");if(null===b)throw ye();const T={name:u.fullPath},E=M(s,e.host,e._protocol),O=e.maxUploadRetryTime,N=new I(E,"POST",te(e,n),O);return N.urlParams=T,N.headers=a,N.body=b.uploadData(),N.errorHandler=H(t),N}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(o,A,t,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=ve(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=pe(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,n,o,i){const s=new tn(n||void 0,o||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,n){return this._promise.then(t,n)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const n=this._observers.indexOf(t);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(pe(this._state)){case"success":$(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":$(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(pe(this._state)){case"running":case"paused":t.next&&$(t.next.bind(t,this.snapshot))();break;case"success":t.complete&&$(t.complete.bind(t))();break;default:t.error&&$(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class F{constructor(t,n){this._service=t,this._location=n instanceof v?n:v.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new F(t,n)}get root(){const t=new v(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Me(this._location.path)}get storage(){return this._service}get parent(){const t=function Dt(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;const n=new v(this._location.bucket,t);return new F(this._service,n)}_throwIfRoot(t){if(""===this._location.path)throw function ft(e){return new _(p.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function mn(e){e._throwIfRoot("getDownloadURL");const t=function Wt(e,t,n){const i=M(t.fullServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new I(i,"GET",function qt(e,t){return function n(o,i){const s=Ue(e,i,t);return S(null!==s),function Ht(e,t,n,o){const i=ue(t);if(null===i||!Z(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(u=>{const f=e.fullPath;return M("/b/"+a(e.bucket)+"/o/"+a(f),n,o)+we({alt:"media",token:u})})[0]}(s,i,e.host,e._protocol)}}(e,n),a);return l.errorHandler=K(t),l}(e.storage,e._location,W());return e.storage.makeRequestWithTokens(t,A).then(n=>{if(null===n)throw function pt(){return new _(p.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function qe(e,t){if(e instanceof fe){const n=e;if(null==n._bucket)throw function dt(){return new _(p.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ce+"' property when initializing the app?")}();const o=new F(n,n._bucket);return null!=t?qe(o,t):o}return void 0!==t?function Xe(e,t){const n=function jt(e,t){const n=t.split("/").filter(o=>o.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),o=new v(e._location.bucket,n);return new F(e.storage,o)}(e,t):e}function ze(e,t){const n=null==t?void 0:t[Ce];return null==n?null:v.makeFromBucketSpec(n,e)}class fe{constructor(t,n,o,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=o,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Te,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?v.makeFromBucketSpec(i,this._host):ze(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?v.makeFromBucketSpec(this._url,t):ze(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){le("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){le("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,D.A)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const n=t._authProvider.getImmediate({optional:!0});if(n){const o=yield n.getToken();if(null!==o)return o.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,D.A)(function*(){const n=t._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new F(this,t)}_makeRequest(t,n,o,i,s=!0){if(this._deleted)return new gt(xe());{const a=function Et(e,t,n,o,i,s,a=!0){const l=we(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function kt(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function yt(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function xt(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,s),function wt(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,o),new vt(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(t,this._appId,o,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(t,n){var o=this;return(0,D.A)(function*(){const[i,s]=yield Promise.all([o._getAuthToken(),o._getAppCheckToken()]);return o._makeRequest(t,n,i,s).getPromise()})()}}const We="@firebase/storage",Je="storage";function Ye(e,t){return function Rn(e,t){if(t&&function Tn(e){return/^[A-Za-z]+:\/\//.test(e)}(t)){if(e instanceof fe)return function Cn(e,t){return new F(e,t)}(e,t);throw se("To use ref(service, url), the first argument must be a Storage instance.")}return qe(e,t)}(e=(0,j.Ku)(e),t)}function Ze(e=(0,L.getApp)(),t){e=(0,j.Ku)(e);const o=(0,L._getProvider)(e,Je).getImmediate({identifier:t}),i=(0,j.yU)("storage");return i&&function wn(e,t,n,o={}){!function vn(e,t,n,o={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=o;i&&(e._overrideAuthToken="string"==typeof i?i:(0,j.Fy)(i,e.app.options.projectId))}(e,t,n,o)}(o,...i),o}function En(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new fe(n,o,i,t,L.SDK_VERSION)}!function Pn(){(0,L._registerComponent)(new et.uA(Je,En,"PUBLIC").setMultipleInstances(!0)),(0,L.registerVersion)(We,"0.12.5",""),(0,L.registerVersion)(We,"0.12.5","esm2017")}();var r=x(3953),An=x(8397);let In=(()=>{var e;class t{constructor(){}getExtension(o){return o.split(".").pop()}makenumid(o){let i="";let l=0;for(;l<o;)i+="0123456789".charAt(Math.floor(10*Math.random())),l+=1;return i}makestringid(o){let i="";let l=0;for(;l<o;)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(26*Math.random())),l+=1;return i}makeid(o){let i="";let l=0;for(;l<o;)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(36*Math.random())),l+=1;return i}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=r.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Sn(e,t){if(1&e&&(r.j41(0,"ion-select-option",9),r.EFF(1),r.k0s()),2&e){const n=t.$implicit;r.FS9("value",n.name.toUpperCase()),r.R7$(),r.JRh(n.name.toUpperCase())}}function Mn(e,t){if(1&e&&(r.j41(0,"ion-radio",26),r.EFF(1),r.k0s(),r.nrm(2,"br")),2&e){const n=t.$implicit;r.FS9("value",n),r.R7$(),r.JRh(n)}}function Un(e,t){if(1&e&&(r.j41(0,"ion-select-option",9),r.EFF(1),r.k0s()),2&e){const n=t.$implicit;r.FS9("value",n),r.R7$(),r.JRh(n)}}function On(e,t){if(1&e){const n=r.RV6();r.j41(0,"ion-card",30),r.bIt("click",function(){r.eBV(n);const i=r.XpG().$index,s=r.XpG(3);return r.Njj(s.selected=i)}),r.j41(1,"ion-card-subtitle")(2,"ion-text",31),r.EFF(3),r.k0s(),r.j41(4,"ion-button",32),r.bIt("click",function(){r.eBV(n);const i=r.XpG().$index,s=r.XpG(3);return r.Njj(s.removeVariation(i))}),r.nrm(5,"ion-icon",33),r.k0s()()()}if(2&e){const n=r.XpG().$implicit;r.R7$(3),r.JRh(n.name)}}function Nn(e,t){if(1&e){const n=r.RV6();r.j41(0,"ion-card",34),r.bIt("click",function(){r.eBV(n);const i=r.XpG().$index,s=r.XpG(3);return r.Njj(s.selected=i)}),r.j41(1,"ion-text",35),r.EFF(2),r.k0s()()}if(2&e){const n=r.XpG().$implicit;r.R7$(2),r.SpI(" ",n.name," ")}}function Dn(e,t){if(1&e&&r.DNE(0,On,6,1,"ion-card",28)(1,Nn,3,1,"ion-card",29),2&e){const n=t.$index,o=r.XpG(3);r.vxM(o.selected==n?0:1)}}function jn(e,t){if(1&e&&(r.j41(0,"h3",20),r.EFF(1),r.k0s(),r.j41(2,"div",27),r.Z7z(3,Dn,2,1,null,null,r.Vm6),r.k0s()),2&e){const n=r.XpG(2);r.R7$(),r.SpI("Selected Variation: ",n.product.variations[n.selected].name,""),r.R7$(2),r.Dyx(n.product.variations)}}function Fn(e,t){if(1&e){const n=r.RV6();r.j41(0,"div",48)(1,"ion-badge",49),r.bIt("click",function(){const i=r.eBV(n),s=i.$implicit,a=i.$index,l=r.XpG(4);return r.Njj(l.deleteImage(s,a))}),r.nrm(2,"ion-ripple-effect")(3,"ion-icon",50),r.k0s(),r.nrm(4,"img",51),r.k0s()}if(2&e){const n=t.$implicit;r.R7$(4),r.FS9("src",n,r.B4B)}}function Bn(e,t){if(1&e&&(r.j41(0,"div",43)(1,"h5",37),r.EFF(2,"Images"),r.k0s(),r.Z7z(3,Fn,5,1,"div",48,r.Vm6),r.k0s()),2&e){const n=r.XpG(3);r.R7$(3),r.Dyx(n.product.variations[n.selected].images)}}function Ln(e,t){if(1&e){const n=r.RV6();r.j41(0,"div",36)(1,"h5",37),r.EFF(2),r.k0s(),r.j41(3,"div",38),r.bIt("dragover",function(i){r.eBV(n);const s=r.XpG(2);return r.Njj(s.checkandsave(i,"drag"))})("drop",function(i){r.eBV(n);const s=r.XpG(2);return r.Njj(s.checkandsave(i,"drop"))})("dragleave",function(i){r.eBV(n);const s=r.XpG(2);return r.Njj(s.checkandsave(i,"drag"))}),r.j41(4,"input",39,0),r.bIt("change",function(i){r.eBV(n);const s=r.XpG(2);return r.Njj(s.checkandsave(i,"selected"))}),r.k0s(),r.j41(6,"h3",40),r.EFF(7,"Drag and Drop Images Here"),r.k0s(),r.j41(8,"h3"),r.EFF(9,"or"),r.k0s(),r.j41(10,"label",41),r.nrm(11,"i",42),r.j41(12,"ion-text"),r.EFF(13," Browse for Images"),r.k0s()()()(),r.DNE(14,Bn,5,0,"div",43),r.j41(15,"div",44)(16,"ion-input",45),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG(2);return r.DH7(s.product.variations[s.selected].price,i)||(s.product.variations[s.selected].price=i),r.Njj(i)}),r.k0s(),r.j41(17,"ion-input",46),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG(2);return r.DH7(s.product.variations[s.selected].discount,i)||(s.product.variations[s.selected].discount=i),r.Njj(i)}),r.k0s()(),r.j41(18,"div",44)(19,"ion-textarea",47),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG(2);return r.DH7(s.product.variations[s.selected].description,i)||(s.product.variations[s.selected].description=i),r.Njj(i)}),r.k0s()()}if(2&e){const n=r.XpG(2);r.R7$(2),r.SpI("Edit Variation: ",n.product.variations[n.selected].name,""),r.R7$(12),r.vxM(n.product.variations[n.selected].images&&n.product.variations[n.selected].images.length>0?14:-1),r.R7$(2),r.R50("ngModel",n.product.variations[n.selected].price),r.R7$(),r.R50("ngModel",n.product.variations[n.selected].discount),r.R7$(2),r.R50("ngModel",n.product.variations[n.selected].description),r.Y8G("rows",4)}}function Vn(e,t){if(1&e){const n=r.RV6();r.j41(0,"ion-button",52),r.bIt("click",function(){r.eBV(n);const i=r.XpG(2);return r.Njj(i.saveProduct())}),r.EFF(1,"Add"),r.k0s()}}function Hn(e,t){if(1&e){const n=r.RV6();r.j41(0,"ion-button",53),r.bIt("click",function(){r.eBV(n);const i=r.XpG(2);return r.Njj(i.updateProduct())}),r.EFF(1,"Edit"),r.k0s(),r.j41(2,"ion-button",54),r.bIt("click",function(){r.eBV(n);const i=r.XpG(2);return r.Njj(i.deleteProduct())}),r.EFF(3,"Delete"),r.k0s()}}function $n(e,t){if(1&e){const n=r.RV6();r.j41(0,"div",2)(1,"div",3)(2,"h3",4),r.EFF(3,"Details"),r.k0s(),r.j41(4,"ion-input",5),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG();return r.DH7(s.product.name,i)||(s.product.name=i),r.Njj(i)}),r.k0s(),r.j41(5,"ion-input",6),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG();return r.DH7(s.product.discount,i)||(s.product.discount=i),r.Njj(i)}),r.k0s(),r.j41(6,"ion-textarea",7),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG();return r.DH7(s.product.description,i)||(s.product.description=i),r.Njj(i)}),r.k0s(),r.j41(7,"ion-select",8),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG();return r.DH7(s.product.brand,i)||(s.product.brand=i),r.Njj(i)}),r.Z7z(8,Sn,2,2,"ion-select-option",9,r.Vm6),r.nrm(10,"ion-item-divider"),r.j41(11,"ion-select-option",10),r.EFF(12,"OTHER"),r.k0s()(),r.j41(13,"ion-item")(14,"ion-label"),r.EFF(15,"Gear Shift"),r.k0s()(),r.j41(16,"ion-item",11)(17,"ion-radio-group",12),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG();return r.DH7(s.product.gear_shift,i)||(s.product.gear_shift=i),r.Njj(i)}),r.Z7z(18,Mn,3,2,null,null,r.Vm6),r.k0s()()(),r.j41(20,"div",3)(21,"h3",4),r.EFF(22,"Features"),r.k0s(),r.j41(23,"ion-input",13),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG();return r.DH7(s.product.engine_capacity,i)||(s.product.engine_capacity=i),r.Njj(i)}),r.k0s(),r.j41(24,"ion-input",14),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG();return r.DH7(s.product.horse_power,i)||(s.product.horse_power=i),r.Njj(i)}),r.k0s(),r.j41(25,"ion-input",15),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG();return r.DH7(s.product.max_speed,i)||(s.product.max_speed=i),r.Njj(i)}),r.k0s(),r.j41(26,"ion-input",16),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG();return r.DH7(s.product.mileage,i)||(s.product.mileage=i),r.Njj(i)}),r.k0s(),r.j41(27,"ion-select",17),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG();return r.DH7(s.product.fuel,i)||(s.product.fuel=i),r.Njj(i)}),r.Z7z(28,Un,2,2,"ion-select-option",9,r.Vm6),r.k0s(),r.j41(30,"ion-item",11)(31,"ion-checkbox",18),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG();return r.DH7(s.product.hybrid,i)||(s.product.hybrid=i),r.Njj(i)}),r.EFF(32,"Hybrid"),r.k0s()()(),r.j41(33,"div",19)(34,"h3",20),r.EFF(35,"Variations"),r.k0s(),r.j41(36,"ion-item")(37,"ion-input",21),r.mxI("ngModelChange",function(i){r.eBV(n);const s=r.XpG();return r.DH7(s.newvariation,i)||(s.newvariation=i),r.Njj(i)}),r.k0s(),r.j41(38,"ion-button",22),r.bIt("click",function(){r.eBV(n);const i=r.XpG();return r.Njj(i.addVariation())}),r.nrm(39,"ion-icon",23),r.k0s()()(),r.DNE(40,jn,5,1)(41,Ln,20,6),r.j41(42,"div",24),r.DNE(43,Vn,2,0,"ion-button",25)(44,Hn,4,0),r.k0s()()}if(2&e){const n=r.XpG();r.R7$(4),r.R50("ngModel",n.product.name),r.R7$(),r.R50("ngModel",n.product.discount),r.R7$(),r.R50("ngModel",n.product.description),r.Y8G("rows",4),r.R7$(),r.R50("ngModel",n.product.brand),r.R7$(),r.Dyx(n.brands),r.R7$(9),r.R50("ngModel",n.product.gear_shift),r.R7$(),r.Dyx(n.gearshifts),r.R7$(5),r.R50("ngModel",n.product.engine_capacity),r.R7$(),r.R50("ngModel",n.product.horse_power),r.R7$(),r.R50("ngModel",n.product.max_speed),r.R7$(),r.R50("ngModel",n.product.mileage),r.R7$(),r.R50("ngModel",n.product.fuel),r.R7$(),r.Dyx(n.fuels),r.R7$(3),r.R50("ngModel",n.product.hybrid),r.R7$(6),r.R50("ngModel",n.newvariation),r.R7$(3),r.vxM(n.product&&n.product.variations&&n.product.variations.length>0?40:-1),r.R7$(),r.vxM(n.product&&n.product.variations&&n.product.variations.length>0&&n.product.variations[n.selected]?41:-1),r.R7$(2),r.vxM(n.id?44:43)}}const Gn=[{path:"",component:(()=>{var e;class t{constructor(o,i,s,a){this.router=o,this.route=i,this.toastService=s,this.textChange=a,this.brands=[],this.gearshifts=["MANUAL","AUTOMATIC","MANUAL & AUTOMATIC"],this.fuels=["PETROL","DIESEL","DIESEL V-POWER","GASOLINE","PREMIUM","ETHANOL","ELECTRIC","UNLEADED-PREMIUM","UNLEADED-SUPER","LOW SULPHUR-DIESEL","UNLEADED"],(0,re.xI)().onAuthStateChanged(c=>{c&&c.email?(this.db=(0,w.aU)(),this.getBrands(),this.id=i.snapshot.params.id,this.id?this.getProduct():this.resetProduct()):this.router.navigate(["/"])})}ngOnInit(){}signOuter(o){var i=(0,re.xI)();(0,re.CI)(i).then(()=>{console.log("Sign-out successful")}).catch(s=>{console.log("An error happened")})}getProduct(){var o=this;return(0,D.A)(function*(){const i=(0,w.H9)(o.db,"vehicles",o.id),s=yield(0,w.x7)(i);s.exists()?(o.selected=0,o.currentproduct=s.data(),o.product=s.data()):o.toastService.playToast("Product Unavailable","warning")})()}resetProduct(){this.product={},this.product.variations=[],this.selected=0}validateText(){return!!(this.newvariation&&this.newvariation.trim().length>2)}addVariation(){this.validateText()?(this.newvariation=this.newvariation.trim(),this.product.variations.push({name:this.newvariation,images:[]}),this.newvariation=void 0):this.toastService.playToast("Invalid Variation","warning")}removeVariation(o){this.product.variations.splice(o,1),this.product.variations[o]||o>0&&(this.selected=o-1)}checkandsave(o,i){o.preventDefault(),o.stopPropagation(),"drop"==i?this.saveFiles(o.dataTransfer.files,i):"selected"==i&&this.saveFiles(o.target.files,i)}saveFiles(o,i){if(o.length>0){this.toastService.playToast("If files aren't images they'll not be uploaded","warning");for(const s of o)("image/png"==s.type||"image/jpg"==s.type||"image/jpeg"==s.type)&&this.doUpload(s,s.name)}else this.toastService.playToast("drop"==i?"No Images Dropped":"No Images Selected","warning")}doUpload(o,i){var c=function yn(e,t,n){return function hn(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new cn(e,new U(t),n)}(e=(0,j.Ku)(e),t,n)}(Ye(Ze(),`CarImages/${this.textChange.makenumid(8)+this.textChange.getExtension(i)}`),o);c.on("state_changed",u=>{switch(console.log("Upload is "+u.bytesTransferred/u.totalBytes*100+"% done"),u.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break;default:console.log("Upload status unknown")}},u=>{this.toastService.playToast(`${i} cannot be saved`,"danger")},()=>{this.toastService.playToast(`${i} saved`,"success"),function xn(e){return mn(e=(0,j.Ku)(e))}(c.snapshot.ref).then(u=>{this.product.variations[this.selected].images.push(u)})})}getBrands(){var o=this;return(0,D.A)(function*(){var i=[];(yield(0,w.GG)((0,w.rJ)(o.db,"brands"))).forEach(a=>{var l=a.data();l.id=a.id,i.push(l)}),o.brands=i.sort((a,l)=>l.timestamp-a.timestamp)})()}deleteImage(o,i){(function kn(e){return function bn(e){e._throwIfRoot("deleteObject");const t=function Jt(e,t){const o=M(t.fullServerUrl(),e.host,e._protocol),l=new I(o,"DELETE",function a(c,u){},e.maxOperationRetryTime);return l.successCodes=[200,204],l.errorHandler=K(t),l}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,A)}(e=(0,j.Ku)(e))})(Ye(Ze(),o)).then(()=>{this.product.variations[this.selected].images.splice(i,1),this.toastService.playToast("Image deleted","success")}).catch(l=>{this.toastService.playToast("Unable to delete image","danger")})}verifyProduct(){if(!this.product.name)return this.toastService.playToast("Please enter a vehicle name","warning"),!1;if(this.product.name=this.product.name.trim(),this.product.name.length<2||this.product.name.length>150)return this.toastService.playToast("Invalid vehicle name","warning"),!1;if(this.product.discount&&(this.product.discount<0||this.product.discount>100))return this.toastService.playToast(`Invalid discount for ${this.product.name}`,"warning"),!1;if(!this.product.description)return this.toastService.playToast("Please enter a vehicle description","warning"),!1;if(this.product.description=this.product.description.trim(),this.product.description.length<10||this.product.description>1e3)return this.toastService.playToast(`Invalid description for ${this.product.name}. Characters 10->1000.`,"warning"),!1;if(!this.product.brand)return this.toastService.playToast("Please select a vehicle brand","warning"),!1;if(!this.product.engine_capacity)return this.toastService.playToast("Please enter vehicle engine capacity in cc","warning"),!1;if(this.product.engine_capacity<45||this.product.engine_capacity>5e4)return this.toastService.playToast(`Invalid engine capacity for ${this.product.name}`,"warning"),!1;if(!this.product.horse_power)return this.toastService.playToast("Please enter vehicle horse power","warning"),!1;if(this.product.horse_power<50||this.product.horse_power>2500)return this.toastService.playToast(`Invalid horse power for ${this.product.name}`,"warning"),!1;if(!this.product.max_speed)return this.toastService.playToast("Please enter vehicle max speed","warning"),!1;if(this.product.max_speed<10||this.product.max_speed>1500)return this.toastService.playToast(`Invalid max speed for ${this.product.name}`,"warning"),!1;if(!this.product.mileage)return this.toastService.playToast("Please enter vehicle mileage","warning"),!1;if(this.product.mileage<0||this.product.mileage>6e6)return this.toastService.playToast(`Invalid mileage for ${this.product.name}`,"warning"),!1;if(!this.product.fuel)return this.toastService.playToast("Please select fuel used by the vehicle","warning"),!1;if(!this.product.gear_shift)return this.toastService.playToast("Please select gear shift system used by the vehicle","warning"),!1;if(!this.product.variations||0==this.product.variations.length)return this.toastService.playToast("Please add a variation of the vehicle","warning"),!1;var o=0;for(const i of this.product.variations){if(0==i.images.length)return this.toastService.playToast(`Please add the images of the variation ${this.product.variations[o].name}`,"warning"),!1;if(!i.price)return this.toastService.playToast(`Please enter the price of the variation ${this.product.variations[o].name}`,"warning"),!1;if(i.price<0||i.price>1e9)return this.toastService.playToast(`Invalid price for variation ${this.product.variations[o].name}`,"warning"),!1;if(i.discount&&(i.discount<0||i.discount>100))return this.toastService.playToast(`Invalid discount for variation ${this.product.variations[o].name}`,"warning"),!1;if(i.description&&(i.description<10||i.description>500))return this.toastService.playToast(`Invalid description for variation ${this.product.variations[o].name}. Characters 10->500.`,"warning"),!1;o++}return!0}saveProduct(){var o=this;return(0,D.A)(function*(){o.verifyProduct()&&(o.product.timestamp=(0,w.O5)(),o.db&&(yield(0,w.gS)((0,w.rJ)(o.db,"vehicles"),o.product).then(i=>{i.id?(o.toastService.playToast("Vehicle Saved","success"),o.resetProduct()):o.toastService.playToast("Vehicle Not Saved","danger")},i=>{console.log(i),o.toastService.playToast("Vehicle couldn't be saved","danger")})))})()}verifyUpdate(){return JSON.stringify(this.product)!=JSON.stringify(this.currentproduct)||(this.toastService.playToast(`Vehicle ${this.product.name} wasn't changed`,"danger"),!1)}updateProduct(){var o=this;return(0,D.A)(function*(){!o.verifyProduct()||!o.verifyUpdate()||(yield(0,w.BN)((0,w.H9)(o.db,"vehicles",o.id),o.product).then(()=>{o.toastService.playToast(`Vehicle ${o.product.name} updated`,"success"),o.getProduct()},i=>{console.log(i),o.toastService.playToast("Vehicle ${this.product.name} couldn't be updated","danger")}))})()}deleteProduct(){var o=this;return(0,D.A)(function*(){o.db&&(yield(0,w.kd)((0,w.H9)(o.db,"vehicles",o.id)).then(()=>{o.toastService.playToast("Vehicle deleted","success"),o.router.navigate(["/show-room"])},i=>{o.toastService.playToast("Vehicle couldn't be deleted","danger")}))})()}}return(e=t).\u0275fac=function(o){return new(o||e)(r.rXU(Y.Ix),r.rXU(Y.nX),r.rXU(An.f),r.rXU(In))},e.\u0275cmp=r.VBU({type:e,selectors:[["app-add-car"]],decls:2,vars:1,consts:[["fileDropRef",""],[1,"container"],[1,"row","pt-5"],[1,"col-12","col-md-6"],[1,"open-sans-bold","mt-1"],["type","text","required","","minlength","2","maxlength","150","counter","true","helperText","Name of the Vehicle","label","Vehicle Name","color","success","label-placement","floating","fill","outline","placeholder","Enter Name of Vehicle",1,"mb-2",3,"ngModelChange","ngModel"],["type","number","min","0","max","100","helperText","Discount Offered (%)","label","Discount","color","success","label-placement","floating","fill","outline","placeholder","Enter Discount Offered for the Vehicle",1,"mb-2",3,"ngModelChange","ngModel"],["type","text","maxlength","1000","counter","true","helperText","Description of the Vehicle","label","Description","color","success","label-placement","floating","fill","outline","placeholder","Enter Description of Vehicle",1,"mb-2",3,"ngModelChange","ngModel","rows"],["label","Brand","required","","label-placement","floating","fill","outline","helperText","Select Brand of Vehicle",1,"mb-2",3,"ngModelChange","ngModel"],[3,"value"],["value","OTHER"],["mode","ios"],["value","MANUAL",1,"w-100",3,"ngModelChange","ngModel"],["type","number","min","45","max","50000","helperText","Engine Capacity (cc)","label","Engine Capacity","color","success","label-placement","floating","fill","outline","placeholder","Enter Engine Capacity",1,"mb-2",3,"ngModelChange","ngModel"],["type","number","min","50","max","2500","helperText","Horse Power (hp)","label","Horse Power","color","success","label-placement","floating","fill","outline","placeholder","Enter Horse Power",1,"mb-2",3,"ngModelChange","ngModel"],["type","number","min","10","max","1500","helperText","Max Speed in (kmh)","label","Max Speed","color","success","label-placement","floating","fill","outline","placeholder","Enter Max Speed",1,"mb-2",3,"ngModelChange","ngModel"],["type","number","min","0","max","6000000","helperText","Enter Mileage (km)","label","Mileage","color","success","label-placement","floating","fill","outline","placeholder","Enter Mileage",1,"mb-2",3,"ngModelChange","ngModel"],["label","Fuel","required","","label-placement","floating","fill","outline","helperText","Select Fuel Used by Vehicle","helperText","Enter Fuel eg. Diesel/Petrol",1,"mb-2",3,"ngModelChange","ngModel"],["color","success","label-placement","stacked","alignment","center","justify","center","helperText","Check if Vehicle is Hybrid","mode","ios","value","true",1,"mb-2",3,"ngModelChange","ngModel"],[1,"col-12"],[1,"open-sans-bold","mt-3"],["type","text","helperText","Enter Varying Feature eg. Color/Mods","label","Variation Name","color","success","label-placement","floating","fill","outline","placeholder","Enter Varying Feature eg. Color",1,"mt-3","mb-2",3,"ngModelChange","ngModel"],["color","success","size","small","slot","end",3,"click"],["name","add-outline"],[1,"col-12","sticky-bottom","mt-4"],["expand","block","mode","ios"],["color","success",1,"w-100",3,"value"],[1,"col-12","d-flex","mona"],["mode","md","tappable","",1,"rounded","ms-2","me-2","p-2","border","border-2","border-secondary"],["mode","md","tappable","",1,"rounded","ms-2","me-2","p-2"],["mode","md","tappable","",1,"rounded","ms-2","me-2","p-2","border","border-2","border-secondary",3,"click"],[1,"me-2",2,"vertical-align","sub"],["size","small","fill","clear",3,"click"],["name","trash-bin","color","danger"],["mode","md","tappable","",1,"rounded","ms-2","me-2","p-2",3,"click"],[2,"vertical-align","sub"],[1,"col-12","mb-4"],[1,"open-sans-bold","mt-1","mb-2"],[1,"dropzone","rounded-3","pb-2",3,"dragover","drop","dragleave"],["tappable","","type","file","id","fileDropRef","multiple","",3,"change"],[1,"mt-0"],["for","fileDropRef",1,"pt-3"],[1,"bi","bi-cloud-arrow-up-fill"],[1,"col-12","overflow-y-hidden","scroller",2,"width","100vw","height","210px","overflow-x","auto","white-space","nowrap"],[1,"col-12","col-md-6","mt-2"],["type","number","required","","min","50","max","1000000000","helperText","Price of the Variation","label","Price","color","success","label-placement","floating","fill","outline","placeholder","Enter Price of Variation",1,"mb-2",3,"ngModelChange","ngModel"],["type","number","min","0","max","100","helperText","Discount Offered for Variation (%)","label","Discount","color","success","label-placement","floating","fill","outline","placeholder","Enter Discount Offered for the Variation",1,"mb-2",3,"ngModelChange","ngModel"],["type","text","minlength","10","maxlength","500","helperText","Description of the Variation","label","Description","color","success","label-placement","floating","fill","outline","placeholder","Enter Description of Variation",1,"mb-2",3,"ngModelChange","ngModel","rows"],[1,"d-inline-block","me-2"],["tappable","","slot","start","color","danger",1,"float-start","ion-activatable","ripple-parent",2,"margin-right","-310px","margin-left","278px",3,"click"],["name","trash-outline"],["tappable","",1,"object-fit-cover","rounded-3","mb-2",2,"width","300px","height","150px",3,"src"],["expand","block","mode","ios",3,"click"],["expand","block","mode","ios","color","secondary",3,"click"],["expand","block","mode","ios","color","danger",3,"click"]],template:function(o,i){1&o&&(r.j41(0,"div",1),r.DNE(1,$n,45,16,"div",2),r.k0s()),2&o&&(r.R7$(),r.vxM(i.product?1:-1))},dependencies:[B.BC,B.YS,B.xh,B.tU,B.vS,h.In,h.Jm,h.b_,h.HW,h.eY,h.iq,h.$w,h.uz,h.Dg,h.he,h.KO,h.f0,h.S7,h.Nm,h.Ip,h.IO,h.nc,h.hB,h.su,h.Je,h.Gw,h.T6,h.jL],styles:[".dropzone[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.dropzone[_ngcontent-%COMP%]{width:450px;height:190px;padding:2rem;text-align:center;border:dashed 1px #979797;position:relative;margin:0 auto}.dropzone[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;z-index:2;width:100%;height:100%;top:0;left:0}.dropzone[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--ion-color-light);width:183px;height:44px;border-radius:21.5px;background-color:var(--ion-color-danger)}.dropzone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#38424c}.mona[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{min-width:60px;text-align:center}.scroller[_ngcontent-%COMP%]{--scrollbar-width: thin;--scrollbar-width-legacy: 10px;--scrollbar-radius: 5px}@supports (scrollbar-width: auto){.scroller[_ngcontent-%COMP%]{scrollbar-width:var(--scrollbar-width);border-radius:var(--scrollbar-radius)}}@supports selector(::-webkit-scrollbar){.scroller[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--scrollbar-color-thumb);border-radius:var(--scrollbar-radius)}.scroller[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--scrollbar-color-track);border-radius:var(--scrollbar-radius)}.scroller[_ngcontent-%COMP%]::-webkit-scrollbar{max-width:var(--scrollbar-width-legacy);max-height:var(--scrollbar-width-legacy);border-radius:var(--scrollbar-radius)}}"]}),t})()}];let Xn=(()=>{var e;class t{}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.$C({type:e}),e.\u0275inj=r.G2t({imports:[Y.iI.forChild(Gn),Y.iI]}),t})(),qn=(()=>{var e;class t{}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.$C({type:e}),e.\u0275inj=r.G2t({imports:[Qe.MD,B.YN,h.bv,Xn]}),t})()}}]);