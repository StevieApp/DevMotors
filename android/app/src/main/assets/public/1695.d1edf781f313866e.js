"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1695],{1695:(I,v,l)=>{l.r(v),l.d(v,{AddBrandPageModule:()=>P});var B=l(177),p=l(4341),c=l(5150),g=l(70),m=l(467),h=l(7231),s=l(3273),e=l(3953),b=l(8397);function f(t,i){1&t&&(e.nrm(0,"ion-item-divider"),e.j41(1,"ion-item")(2,"ion-label")(3,"h2",9),e.EFF(4,"Brands List"),e.k0s()()())}function y(t,i){if(1&t){const r=e.RV6();e.j41(0,"ion-item")(1,"h2")(2,"ion-text",10),e.EFF(3),e.k0s()(),e.nrm(4,"ion-input",11),e.j41(5,"ion-button",7),e.bIt("click",function(){const a=e.eBV(r).$implicit,o=e.XpG();return e.Njj(o.updateBrand(a))}),e.EFF(6," Save "),e.k0s(),e.j41(7,"ion-button",12),e.nrm(8,"ion-icon",13),e.k0s(),e.j41(9,"ion-button",14),e.nrm(10,"ion-icon",15),e.k0s(),e.j41(11,"ion-button",16),e.bIt("click",function(){const a=e.eBV(r).$implicit,o=e.XpG();return e.Njj(o.deleteBrand(a.id))}),e.nrm(12,"ion-icon",17),e.k0s()()}if(2&t){const r=i.$implicit,n=i.$index;e.R7$(2),e.ZvI("collapse show collapser",n," ps-2 oswalder"),e.Mz_("id","brandname",n,""),e.R7$(),e.JRh(r.name),e.R7$(),e.ZvI("mt-2 mb-2 collapse collapser",n,""),e.Mz_("id","editbrand",r.id,""),e.Y8G("value",r.name),e.R7$(),e.ZvI("collapse collapser",n,""),e.R7$(2),e.ZvI("collapse collapser",n," show"),e.Mz_("id","saver",r.id,""),e.BMQ("data-bs-target",".collapser"+n),e.R7$(2),e.ZvI("collapse collapser",n,""),e.BMQ("data-bs-target",".collapser"+n),e.R7$(2),e.ZvI("collapse collapser",n," show")}}const A=[{path:"",component:(()=>{var t;class i{constructor(n,a){this.toastService=n,this.router=a,this.brands=[],(0,h.xI)().onAuthStateChanged(d=>{d&&d.email?(this.db=(0,s.aU)(),this.getBrands()):this.router.navigate(["/"])})}ngOnInit(){}validateText(){return!!(this.newbrand&&this.newbrand.trim().length>2)}validateUpdate(n){return!!(n&&n.trim().length>2)}getBrands(){var n=this;return(0,m.A)(function*(){var a=[];(yield(0,s.GG)((0,s.rJ)(n.db,"brands"))).forEach(d=>{var u=d.data();u.id=d.id,a.push(u)}),n.brands=a.sort((d,u)=>u.timestamp-d.timestamp)})()}addBrand(){var n=this;return(0,m.A)(function*(){n.validateText()?(n.newbrand=n.newbrand.toUpperCase().trim(),n.db&&(yield(0,s.gS)((0,s.rJ)(n.db,"brands"),{name:n.newbrand,timestamp:(0,s.O5)()}).then(a=>{a.id?(n.toastService.playToast("Brand Saved","success"),n.newbrand=void 0,n.getBrands()):n.toastService.playToast("Brand Not Saved","danger")},a=>{console.log(a),n.toastService.playToast("Brand couldn't be saved","danger")}))):n.toastService.playToast("Invalid Brand","warning")})()}updateBrand(n){var a=this;return(0,m.A)(function*(){var o=document.getElementById("editbrand"+n.id);if(o&&a.db){var d=o.value;if((d=o.value=d.toUpperCase().trim())==n.name)return void a.toastService.playToast("Nothing Changed","warning");if(!a.validateUpdate(d))return void a.toastService.playToast("Invalid Brand","warning");yield(0,s.BN)((0,s.H9)(a.db,"brands",n.id),{name:d,timestamp:(0,s.O5)()}).then(()=>{document.getElementById("saver"+n.id).click(),a.toastService.playToast("Brand updated","success"),a.getBrands()},u=>{console.log(u),a.toastService.playToast("Brand couldn't be updated","danger")})}})()}deleteBrand(n){var a=this;return(0,m.A)(function*(){a.db&&(yield(0,s.kd)((0,s.H9)(a.db,"brands",n)).then(()=>{a.toastService.playToast("Brand deleted","success"),a.getBrands()},o=>{a.toastService.playToast("Brand couldn't be deleted","danger")}))})()}}return(t=i).\u0275fac=function(n){return new(n||t)(e.rXU(b.f),e.rXU(g.Ix))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-add-brand"]],decls:15,vars:2,consts:[[1,"container","my-scale"],[1,"d-flex","my-scale"],[1,"m-auto","maxer"],[1,"sticky-top","pt-5","mt-5",2,"z-index","1000"],[1,"ion-no-margin"],[1,"text-center","text-primary"],["type","text","label","Brand Name","color","secondary","label-placement","floating","fill","outline","placeholder","Enter Brand",1,"mt-2","mb-2",3,"ngModelChange","ngModel"],["color","success","size","small","slot","end",3,"click"],["name","add-outline"],[1,"text-center","text-info"],[3,"id"],["mode","md","type","text","label","Brand Name","color","secondary","label-placement","floating","fill","outline","placeholder","Enter Brand",3,"id","value"],["color","primary","size","small","slot","end","data-bs-toggle","collapse","aria-expanded","true",3,"id"],["name","pencil-outline"],["color","success","fill","clear","size","small","slot","end","data-bs-toggle","collapse","aria-expanded","false"],["name","close-outline","color","danger"],["color","danger","size","small","slot","end",3,"click"],["name","trash-bin-outline"]],template:function(n,a){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ion-item",4)(5,"ion-label")(6,"h2",5),e.EFF(7,"Add Brand"),e.k0s()()(),e.j41(8,"ion-item")(9,"ion-input",6),e.mxI("ngModelChange",function(d){return e.DH7(a.newbrand,d)||(a.newbrand=d),d}),e.k0s(),e.j41(10,"ion-button",7),e.bIt("click",function(){return a.addBrand()}),e.nrm(11,"ion-icon",8),e.k0s()()(),e.DNE(12,f,5,0),e.Z7z(13,y,13,28,"ion-item",null,e.Vm6),e.k0s()()()),2&n&&(e.R7$(9),e.R50("ngModel",a.newbrand),e.R7$(3),e.vxM(a.brands&&a.brands.length>0?12:-1),e.R7$(),e.Dyx(a.brands))},dependencies:[p.BC,p.vS,c.Jm,c.iq,c.$w,c.uz,c.Dg,c.he,c.IO,c.Gw],styles:[".maxer[_ngcontent-%COMP%]{min-height:20vh;min-width:40vw}"]}),i})()}];let M=(()=>{var t;class i{}return(t=i).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[g.iI.forChild(A),g.iI]}),i})(),P=(()=>{var t;class i{}return(t=i).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[B.MD,p.YN,c.bv,M]}),i})()}}]);